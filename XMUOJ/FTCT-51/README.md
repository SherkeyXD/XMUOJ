# 树

| 题目链接 | [树](http://xmuoj.com/problem/FTCT-51) |
| --- | --- |
| 可用语言 | C, C++, Java, Python2, Python3 |
| 时间限制 | 1000 MS |
| 内存限制 | 256 MB |
| IO 类型 | Standard IO |
| 难度 | 低 |

## 题目描述

<p>厦门大学内共有n个学院，这些学院通过n-1条秘密通道相互连接，构成了一个巨大的树形网络。每个学院都有一个初始的防御力，旅行者必须发挥自己的实力拿下这些学院。</p><p>我们在这里定义几个概念：</p><p>如果存在一条直接的秘密通道连接两个学院，则这两个学院被视为“直接相连”。</p><p>如果两个学院之间没有直接连接，但通过某一个学院（仅一个）可以间接连接，则这两个学院被视为“次级相连”。</p><p>当一个学院被旅行者拿下后，它将不再有防御力，此时“直接相连”和“次级相连”的学院因战事紧张而提高了警惕，它们的实力都会增加1。（假设所有通道的距离都为1，也就是说，一个学院被拿下后，与它最短距离为1和2的学院，实力都会增加1。）</p><p>旅行者必须选择一个学院开始他的征服，他当然可以任意选一个自己喜欢的学院开始。显然，他能够攻克的学院防御力不能超过他当前的力量。之后，他可以继续攻克其他学院，但只能攻克那些仍然有防御的、与已攻克学院“直接相连”、且实力不超过旅行者力量的学院。</p><p>你的任务是确定旅行者需要多强才能拿下所有学院。</p><p><br /></p><p>出题人为孙欣怡同学</p>

## 输入

<p>第一行包含一个整数 n（1&lt;=n&lt;=1000000）。</p><p>第二行包含 n 个正整数 a1, a2, ..., an（0 &lt; ai &lt; 2^63）——各学院的初始防御力。</p><p>接下来的 n-1 行，每行包含两个整数 u 和 v，保证 1&lt;=u, v&lt;= n，表示有一条路直接连接u和v两个学院。输入保证是一棵树。</p>

## 输出

<p>打印一个整数——旅行者为了完成任务需要的最小力量。<br /></p>

## 样例

### 输入1

```
5
1 2 7 6 7
1 5
5 3
3 4
2 4
```

### 输出1

```
8
```

### 输入2

```
3
2 2 2
3 2
1 2
```

### 输出2

```
3
```

## 提示

<p>因为输入数据较大，推荐使用scanf。</p>

## 来源

https://codeforces.com/contest/796/problem/C

