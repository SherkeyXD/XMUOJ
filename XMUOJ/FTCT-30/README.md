# 合并论文idea

| 题目链接 | [合并论文idea](http://xmuoj.com/problem/FTCT-30) |
| --- | --- |
| 可用语言 | C, C++, Java, Python2, Python3 |
| 时间限制 | 1000 MS |
| 内存限制 | 256 MB |
| IO 类型 | Standard IO |
| 难度 | 低 |

## 题目描述

<p>话说天下大势，分久必合，合久必分。</p><p>又是一年NeurIPS投稿时节，小Q正忙于自己的论文，他从历年的多篇论文中找到了很多的idea，决定把这些idea用一个工作串联起来。有些idea是关于网络结构优化的，有些是关于数据噪声处理的，有的是关于数学公式推导的，还有的是关于超参数的调整，显然这一些idea在论文中应用的部分是有序的。</p><p>小Q决定把所有的idea合并成为一个相当完美的工作。</p><p>每一次合并，小Q可以把相邻的两个idea合成一个idea<b>（合并之后的idea的大小等于原来两个idea之和）</b>，由于这不是简单的线性工作，为了讲述其中的原因和故事，<b>消耗的体力等于两个idea的大小之积</b>。</p><p>但是，这样的idea真的有用吗？而你的任务只不过是设计出合并的次序方案，使得耗费的体力最少，并输出这个最小的体力耗费值。小Q知道这应该是会爆long long的，所以他至少希望能对12345取余数。</p><p><br /></p><p>出题者</p><p>秦豪远同学</p>

## 输入

<p>第一行为一个正整数n，代表idea的数量(2≤n≤800)；</p><p>第二行为n个正整数a[i]，代表每个idea的大小(1≤a[i]≤20)；</p>

## 输出

<p>输出最小的体力耗费值对12345取余数之后的值</p>

## 样例

### 输入1

```
3
6 2 3
```

### 输出1

```
36
```

## 提示

<p>先将第二个和第三个合并，最后再合并一次，36是最小的答案，请注意使用int64类型<br /></p><p><b>可以证明，每次合并两个相邻加起来最小的idea是一种最优的方案<br /></b></p><p>余数运算规则 (a+b)%p=a%p+b%p，(a*b)%p=a%p*b%p<br /></p>

